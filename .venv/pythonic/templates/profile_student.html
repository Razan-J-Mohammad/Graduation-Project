{% extends "layout.html" %}
{% block content %}

<div class="container my-5 raz">
    <nav>
        <div class="nav nav-tabs" id="tablist">
            <button class="nav-link active" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile"
                type="button" role="tab" aria-controls="nav-profile" aria-selected="true">الملف الشخصي</button>
        </div>
    </nav>
    
    <div class="tab-content"  id="nav-tabContent">
       
        <div class="tab-pane show active fade p-3" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
            <form action=" " method="POST" enctype="multipart/form-data">
                {{ profile_form.hidden_tag() }}
                <fieldset class='form-group' >
                    <legend class='border-bottom mb-4 '>معلومات شخصية</legend>
                    <div class="border rounded p-4">
                        <img class="rounded-circle user-img" src="{{image_file}}" alt="">
                        <div class='form-group'>
                            <div class="row mb-3">
                                <div class="col">
                                    <label for="fname" class="form-label">الاسم الأول</label> 
                                    <input class="form-control" type="text" value="{{ current_user.fname}}" readonly>
                                </div>
                                <div class="col">
                                    <label for="lname" class="form-label">الاسم الثاني</label> 
                                    <input class="form-control" type="text" value="{{ current_user.lname}}" readonly>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col">
                                    {{ profile_form.username.label(class='form-control-label')}}
                                    {% if profile_form.username.errors%}
                                    {{ profile_form.username(class='form-control form-control-lg is-invalid')}}
                                    <div class="invalid-feedback">
                                        {% for error in profile_form.username.errors %}
                                        <span>{{error}}</span>
                                        {% endfor %}
                                    </div>
                                    {% else %}
                                    {{ profile_form.username(class='form-control form-control')}}
                                    {% endif %}
                                </div>
                                <div class="col">
                                    {{ profile_form.email.label(class='form-control-label')}}
                                    {% if profile_form.email.errors%}
                                    {{ profile_form.email(class='form-control form-control-lg is-invalid')}}
                                    <div class="invalid-feedback">
                                        {% for error in profile_form.email.errors %}
                                        <span>{{error}}</span>
                                        {% endfor %}
                                    </div>
                                    {% else %}
                                    {{ profile_form.email(class='form-control form-control')}}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            {{ profile_form.picture.label}}
                            {{ profile_form.picture(class='form-control-file')}}
                            {% if profile_form.picture.errors %}
                            {% for error in profile_form.picture.errors %}
                            <span class="text-danger">{{ error }}</span></br>
                            {% endfor %}
                            {% endif %}
                        </div>
                        <div class="col-12">
                            <button class="btn btn-success" type="submit">تحديث</button> 
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>

{% endblock content %}
